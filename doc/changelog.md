# v7.X Changelog

## v7.3 - API Expansion

- v7.3.67 - fix permission check "treeassist.replant" - this never worked as intended and now is at least logically sound - addresses #103
- v7.3.66 - repair enchantment logic for real - sorry peeps ^^
- v7.3.65 - repair enchantment logic for tool
- v7.3.64 - fix pale oak not working by default
- v7.3.63 - add pale oak support
- v7.3.57 - add AuraSkill support
- v7.3.56 - drop items if the auto adding did not fit - defaults to false for backwards compatibility!
- v7.3.55 - clarify debug for custom drops deny reason
- v7.3.54 - fix a diagonal loop determination issue resulting in false negative tree validity checks
- v7.3.53 - properly reset Toggle varibale when toggling functionality back on - affects "Remember Toggle Status"
- v7.3.52 - [core update] - Support servers without Spigot base unless they want to use hex codes
- v7.3.51 - update for 1.20.4, also make updating minecraft-version-dependent to not break servers by introducing unknown blocks or tree definitions
- v7.3.50 - print correct permission message for "treeconfig" command
- v7.3.49 - implement pull #97 manually
- v7.3.48 - allow natural blocks to be the roof of a tree - nether hotfix
- v7.3.47 - add language entries for on and off
- v7.3.46 - add placeholders ta_global - ta_world - ta_cooldown - for toggle and cooldown status
- v7.3.45 - /ta config restore [config] | Restore a tree config to its default
- v7.3.44 - help with cherry tree support by allowing pink petals near the tree
- v7.3.43 - update locate biome message to reflect the new command since 1.19
- v7.3.42 - allow restricting max dimensions of a tree, this counts the trunk only
- v7.3.41 - support cherry trees
- v7.3.40 - change how the toggle check command works, allow to check for other players now though
- v7.3.39 - allow to check your toggle status by appending "check" after the world, or the toggle command
- v7.3.38 - implement adding all tree block drops to inventory (can be disabled)
- v7.3.37 - fix an Aurelium related config warning, addresses github issue #90
- v7.3.36 - help with AureliumSkills compatibility by waiting for it to load before hooking into it
- v7.3.35 - stop the auto plant feature from duplicating saplings
- v7.3.34 - repair several things we broke in the last few commits
- v7.3.33 - actually add the config setting, automatically. Oups
- v7.3.32 - add config setting to ignore invalid blocks - use with caution :P - add aurelium skills auto-addition
- v7.3.31 - repair and improve the tree yml replacement
- v7.3.30 - add the mangrove to the automatically added config files, repair the add-config-feature
- v7.3.29 - follow greedy branches downwards, too
- v7.3.28 - try to implement mangroves - I am not completely happy with this. Config will not be automatically added yet!
- v7.3.27 - add a config setting to allow to remember toggle settings -> General.ToggleRemember
- v7.3.26 - add a whole new world of trunk discovery. greedy. use with caution!
- v7.3.25 - add french language file. Thanks to TBG-FR!
- v7.3.24 - actually respect language setting! This has been broken for a long time :(
- v7.3.23 - add AureliumSkills support
- v7.3.22 - purge language values no longer in use, add english and german language file
- v7.3.21 - fix a few issues resulting in enforcing of removal, and fix someone probably being drunk while implementing the statistic check
- v7.3.20 - improve debugging when the plugin is toggled off globally. It happens ^^
- v7.3.19 - improve cleanup by allowing to not clean up leaves, set "AutomaticDestruction.CleanupLeaves" to "false" to allow leaves to drop items even with cleanup
- v7.3.18 - improve "info" parameter for config commands, it now works properly and is readable, treeconfig no longer requires tree type for node info
- v7.3.17 - move Replanting config entry "Delay Growth Seconds" to "Growth Delay Seconds" to allow for config command arguments to be unambiguous
- v7.3.16 - plot twist! We can actually replace a sapling without auto destruct IF the first broken block is the bottom block!
- v7.3.15 - add nyliums to the valid mushroom ground blocks
- v7.3.14 - move to HTTPS for Updater [core update], show external plugin stats more realistically
- v7.3.13 - add URL verification to prevent tampering with it [core update]
- v7.3.12 - do not drop blocks from falling blocks when we are cleaning up
- v7.3.11 - only lock player's tool when we want to do damage later
- v7.3.10 - fix NPE in the "prevent without tool"  logic
- v7.3.9 - properly handle trees without leaves
- v7.3.8 - skip null trunk tree removal (why is this even happening?)
- v7.3.7 - call the TreeBrokenEvent with higher priority, extend TreeStructure API
- v7.3.6 - synchronize version numbers
- v7.3.1 - expand TreeBrokenEvent, add TreeBlockBrokenEvent and call both in the appropriate places

## v7.2 - Library

- v7.2.53 - address ticket 0062 - skip item spawn events of spammy items that are no saplings
- v7.2.52 - address ticket 0063 - tweak check for self-replant, add config for different tree types
- v7.2.51 - address ticket 0061 - noreplant did not take proper priority. Also, now noreplant and replant will trump each other on command
- v7.2.50 - add debug command parameter to get spammed about why things are not working, more in the docs!
- v7.2.49 - prevent players dropping their axes to avoid tool damage
- v7.2.48 - allow acacia and potentially other trees to actually remove cap leaves, improve thick tree determination for even less infringement
- v7.2.47 - add a debugtool command to show the extent of trees, fix thick jungle trees stealing leaves from other jungle trees
- v7.2.46 - add github issue #77 - "Prevent Log Breaking Without Tool" - it will check before trashing your tool when auto destructing
- v7.2.45 - add github issue #71 - /treeassist replant - to enforce sapling planting for yourself for a limited time
- v7.2.44 - support tree farms below 0 [y position]
- v7.2.43 - fast decaying leaves will drop items now - can be disabled in the main config
- v7.2.42 - use proper Override annotation for onCommand
- v7.2.41 - Bye bye, biomes [1.18]
- v7.2.40 - prevent houses built out of logs to count as farming rows
- v7.2.39 - do the legacy loading in the correct order to populate nonexisting tree ymls
- v7.2.38 - try to repair the legacy 7.0 config fix
- v7.2.37 - fix an issue with tree growing triggering the block protection
- v7.2.36 - prevent NPE when running the command with no arguments
- v7.2.35 - support hex color codes (Core Update)
- v7.2.34 - properly implement "Only Above" logic. That "above" should be inclusive so that it does not leave the base level unbroken. Addresses #80
- v7.2.33 - include azalea in the .* permission
- v7.2.32 - add commands per block / per tree, documentation will follow soon!
- v7.2.31 - add more specific debug every time a block is being broken by TreeAssist
- v7.2.30 - remove bedrock from the default tree trunk material list. This is unnecessary and buggy
- v7.2.29 - respect the setting to disable per world for all the things that happen
- v7.2.28 - update internal YMLs to be spaced, too - Core update
- v7.2.27 - add [info] argument for config commands to display node information
- v7.2.26 - initialize PlayerListener debugger - oups! - also maybe pull in Core change about config commenting separation
- v7.2.25 - try to prevent messing with the tool while automatic destruction is happening
- v7.2.24 - support increasing scoreboard values (picked_up, mined) for automatically broken trees - this is hooked into the statistics setting, so disabled by default!
- v7.2.23 - add '/ta config' and '/ta treeconfig', allowing to set config nodes ingame - also fix advertized  command shorthands
- v7.2.22 - fix thick trees considering themselves neighbors, fix invalid blocks unnecessarily cancelling the break event, and show messages when this happens in the future, can be enabled/disabled via permission and globally by config setting
- v7.2.21 - allow mushrooms near trees
- v7.2.20 - create custom events config node
- v7.2.19 - allow to create block break events for other plugins to react to
- v7.2.18 - properly update tree configs with stripped logs and some more things
- v7.2.17 - allow OPs and creative players to break logs - fixes #73
- v7.2.16 - [core update] do not log prefixed messages unless sent to console
- v7.2.15 - add a config setting to restrict tree breaking to only valid tools, with info message. Adds #73
- v7.2.14 - add a config setting to make config loading less spammy, adds #72
- v7.2.13 - add azalea tree definition automatically. I think we can deal with some warnings until people update, right? This will not break 1.16, it will merely support 1.17 :)
- v7.2.12 - support azalea trees, this build will still work on MC 16 and lower, just show some warnings about unknown blocks
- v7.2.11 - add grow tool command, works like the protection tool but it grows a tree.
- v7.2.10 - repair forcegrow
- v7.2.9 - support using forcegrow from console
- v7.2.8 - support using hands to break trees
- v7.2.7 - Improve updater comment to include proper disable example
- v7.2.6 - Stop duplicating Saplings in certain circumstances
- v7.2.5 - Core update: do not inform people when they use an experimental version
- v7.2.4 - refine grow prevention logic
- v7.2.3 - prevent players from dropping a sapling if that sapling would and should not grow
- v7.2.2 - fix shading package - no functional differences to 7.2.1!
- v7.2.1 - refactor several features into a library that gets shaded in

## v7.1 - New CI

- v7.1.23 - do not shade GSON in - this has been in the server jar for years
- v7.1.22 - update updater to JSON logic, the checking happens online, uses one less connection, and messages only when updates are available
- v7.1.21 - repair the config reparation, update default configs and mark them as current
- v7.1.20 - fix several nether issues. no more custom apple drops, support for a ton of netherrack around
- v7.1.19 - fix build numbering, introduce message prefix, apply it to messages that need it
- v7.1.17 - fix damage being applied to creative axes
- v7.1.16 - address issue #69 - unbreakable tools now should work properly!
- v7.1.15 - still dealing with github issue #69 - more tool debug to investigate
- v7.1.14 - address github issue #69 and support unbreakable tools
- v7.1.13 - split custom drops definitions in two, in Blocks and in Trunk, the latter defaulting to false
- v7.1.12 - actually check the leaves based on the material they had before we broke them
- v7.1.11 - allow to disable auto-leaf-destruction causing damage to tools ("Apply Tool Damage For Leaves")
- v7.1.10 - fix jungle logs dominating oak block lists
- v7.1.9 - allow "tall_flowers" (sunflowers) next to trees, support dark oak trees that are 3 blocks high
- v7.1.8 - allow to set up mcMMO and Jobs to give only the full tree - TreeMcMMO and TreeJobs
- v7.1.7 - properly populate config node and comments, announce update setting
- v7.1.6 - prepare updater and internal versioning logic for more rigid update cycle
- v7.1.5 - remove duplicated code by merging config logic
- v7.1.4 - repair main config.yml commenting, add tree config commenting
- v7.1.3 - add "Custom Drops Override" to allow replacing leaf drops completely with given custom drops
- v7.1.2 - add proper release upload to Discord
- v7.1.1 - use GitHub actions to build snapshots

## v7.0 - Minecraft 1.16 Rewrite

- v7.0.151 - attempt to safeguard against crashes, addresses github issue #66
- v7.0.150 - only replace a sapling if the block is still free after the delay - or we are enforcing
- v7.0.149 - nerf fast decay to check less blocks, possibly by a factor of 45
- v7.0.148 - fix fast decay not working. removed safeguard to prevent foliage destruction, replace with hackfix
- v7.0.147 - enhance bStats Metrics, allow to disable that - merry christmas!
- v7.0.146 - add stripped log variants to support trees with stripped barks
- v7.0.145 - add new WorldGuard flag "treeassist.saplingbreak" to prevent sapling breaking in regions
- v7.0.144 - allow to set and remove default tools by omitting trunk type
- v7.0.143 - do not protect trunks that grew from protected saplings
- v7.0.142 - remove jungle bush definition and repair leaf decay, causing a lot of issues bundled in github #61
- v7.0.141 - actually do place enforced saplings without auto destruction
- v7.0.140 - add new definition for jungle bush tree, this is another attempt to address github issue 59 part 1
- v7.0.139 - simplify leaf decay check to support jungle bushes
- v7.0.138 - allow to disable silk touch effect with automated destruction
- v7.0.137 - do not attempt to drop an AIR block - addresses github issue #60 
- v7.0.136 - debug version bump
- v7.0.135 - properly actually read map values when reading config values (probabilities)
- v7.0.134 - remove the former hackfix to try to make saplings appear after the cleanup - this only worked in some cases
- v7.0.133 - also delay saplings that try to plant themselves until after all self cleaning trees are done! - should wrap up tickets #57 and #57
- v7.0.132 - delay sapling replant until cleanup is done - addresses github issue #57 and issue #58
- v7.0.131 - handle sapling replant enforcement with appropriate priority and do not replant before the cleanup - addresses github issue #57
- v7.0.130 - add Peony to the naturally occurring blocks
- v7.0.129 - keep tree configs in a sane order to always catch tall oaks properly (child configs have precedence now)
- v7.0.128 - properly reset debugger to allow for more debugs after closing the first one
- v7.0.127 - enhance force growing to support tall oak trees
- v7.0.126 - fix another config parsing error, caused by compatible but wrong config settings
- v7.0.125 - fix a config loading error causing thick trees and mushrooms not being recognized as trees
- v7.0.124 - actually delay sapling protection instead of enhancing it and starting it when the first block is broken - addresses github issue #53
- v7.0.123 - warn when a config setting does not match the expected data type
- v7.0.122 - actually use sapling replant delay in ticks, not seconds! - addresses github issue #54
- v7.0.121 - only cancel the initial block break event if we kill it in the same instant anyway - addresses github issue #55
- v7.0.120 - implement proper TreeConfig map and list inheritance, forwarding values to children
- v7.0.119 - properly clear tall jungle trees of vines
- v7.0.118 - update config.yml properly with new values
- v7.0.117 - correct plugin.yml - I only need to be author once
- v7.0.116 - add fancy tree falling animation - looks almost real!
- v7.0.115 - enhance the sapling protection by the replant delay - addresses github issue #53
- v7.0.114 - add some debug for github issue #53
- v7.0.113 - reinstate sapling protection - addresses github issue #53
- v7.0.112 - properly restrict the plugin if set in the config - addresses issue #52
- v7.0.111 - debug when a plugin cancels the breaking of the tree
- v7.0.110 - add more debug for when a tree determination fails
- v7.0.109 - update the default ymls
- v7.0.108 - add a warning when an invalid material has been entered; fix 2 entries in the natural block list
- v7.0.107 - add more tools to the cooldown calculation; abort tree determination if an invalid block has been found
- v7.0.106 - add netherite axe to tool list and drop factors, addresses issue #50
- v7.0.105 - fix a nether related possible infinite loop 
- v7.0.104 - revert changes made while testing
- v7.0.103 - undo changes to tool "hoe" for nether, as this does not apply at all. Logs still are axeable and the rest is, too.
- v7.0.102 - Give people stackable logs, and double check physics when breaking blocks
- v7.0.101 - remove log spam about thickness
- v7.0.100 - first build for Spigot 1.16.1 - should still work on older versions! - first tested build after moving the API to 1.16.1 and changing some things about nether trees
- v7.0.99 - sync jenkins and github - sorry for any confusion
- v7.0.98 - only auto-plant saplings when this is set in the config!
- v7.0.97 - delay fast leaf decay if delay is set
- v7.0.96 - convince FallingBlocks to not drop themselves after falling
- v7.0.95 - add large ferns to the natural blocks, improve mushroom detection
- v7.0.94 - when warning about "lower than minimum", show more information
- v7.0.90 - First rewrite commit
- Complete rewrite of tree determination and tree definition.
- Outsourcing of over 30 config.yml nodes to the new trees/default.yml node.
- The folder `trees` contains all tree definitions. The examples should help set up custom definitions.
- config.yml rewrite with attempted migration and warning in case there are wrong entries.
- config.yml has custom comments in hopes to clear up some confusion.
- Support and defaulting to the new material IDs, e.g. `minecraft:oak_sapling` instead of `OAK_SAPLING`.
- Migrating of all chances to probabilities - instead of percentages we use factors where 1.0 is 100% chance.
- Reorganization of Utils class, separation into separate utility classes
- JavaDocs for every public and every important method
- TreeAssist events fully documented, added some more configurability, and changed the replacement event to work with Material instead of its name
- mcMMO hooks now should support all block types, mcMMO should decide what kind of EXP to add
- `noreplace` command renamed to `noreplant`, including permissions and config nodes
- config default for "Only When Bottom Broken First" changed, as this setting never worked anyway
- logs should break from bottom up (thick trees look much better now)
- leaves should break from inside out
- destruction should be much faster now as we check for duplicates
